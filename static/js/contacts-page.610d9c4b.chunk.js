(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{83:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(35);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(s){r=!0,c=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},84:function(t,e,n){t.exports={form:"Form_form__1dm_z",box_form:"Form_box_form__3Lero",input:"Form_input__oJlhq",title:"Form_title__1povQ",button:"Form_button__1d3jr"}},85:function(t,e,n){t.exports={Overlay:"Modal_Overlay__1QGQS",Modal:"Modal_Modal__5OkS1"}},86:function(t,e,n){t.exports={card:"ContactCard_card__xkcY9",avatar:"ContactCard_avatar__2Agxr",name:"ContactCard_name__3Qee7",number:"ContactCard_number__1I3Ji",button:"ContactCard_button__1Itf-"}},87:function(t,e,n){t.exports={contacts_list:"ContactsList_contacts_list__2o2RD"}},88:function(t,e,n){t.exports={input:"Filter_input__2qfgI",title:"Filter_title__2agQc"}},90:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return D}));var a=n(83),r=n(0),c=n(9),o=n(21),i=n(18),s=n.n(i),u=function(){return function(t){t(o.a.getContactsRequest()),s.a.get("/contacts").then((function(e){var n=e.data;return t(o.a.getContactsSuccess(n))})).catch((function(e){return t(o.a.getContactsError(e.message))}))}},l=function(t){return function(e){e(o.a.addContactsRequest()),s.a.post("/contacts",t).then((function(t){return t.data})).then((function(t){return e(o.a.addContactsSuccess(t))})).catch((function(t){return e(o.a.addContactsError(t.message))}))}},b=function(t){return function(e){e(o.a.deleteContactsRequest()),s.a.delete("/contacts/".concat(t)).then((function(){return e(o.a.deleteContactsSuccess(t))})).catch((function(t){return e(o.a.deleteContactsError(t.message))}))}},d=n(27),f=function(t){return t.contacts.items},j=function(t){return t.contacts.filter},m={getContacts:f,getFilter:j,getVisibleContacts:Object(d.a)([f,j],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},O=n(19),h=n(84),p=n.n(h),v=n(1);function _(){var t=Object(r.useState)({name:"",number:""}),e=Object(a.a)(t,2),n=e[0],o=e[1],i=Object(c.c)(m.getContacts),s=Object(c.b)(),u=Object(r.useCallback)((function(t){s(l(t))}),[s]),b=Object(r.useCallback)((function(t){o((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:t.target.value})}))}),[]),d=Object(r.useCallback)((function(t){o((function(e){return Object(O.a)(Object(O.a)({},e),{},{number:t.target.value})}))}),[]),f=Object(r.useCallback)((function(t){if(t.preventDefault(),i.map((function(t){return t.number})).includes(n.number))return alert("phone number  is  already in contacts");u(n),o({name:"",number:""})}),[u,n,i]);return Object(v.jsxs)("div",{className:p.a.box_form,children:[Object(v.jsx)("h1",{children:"Please write number your friends"}),Object(v.jsxs)("form",{className:p.a.form,onSubmit:f,children:[Object(v.jsxs)("label",{className:p.a.title,children:["Name",Object(v.jsx)("input",{className:p.a.input,type:"name",name:"name",value:n.name,placeholder:"Enter name",onChange:b,required:!0})]}),Object(v.jsxs)("label",{className:p.a.title,children:["Pnone",Object(v.jsx)("input",{className:p.a.input,type:"tel",name:"number",value:n.number,placeholder:"Enter number",onChange:d,required:!0})]}),Object(v.jsx)("button",{className:p.a.button,type:"submit",children:"Submit"})]})]})}var x=n(25),g=n(85),C=n.n(g),y=document.getElementById("modal-root");function w(t){var e=t.onClose,n=t.children;return Object(r.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]),Object(x.createPortal)(Object(v.jsx)("div",{className:C.a.Overlay,onClick:function(t){t.target===t.currentTarget&&e()},children:Object(v.jsx)("div",{className:C.a.Modal,children:n})}),y)}var k=n(86),N=n.n(k);function E(t){var e=t.item,n=Object(c.b)();return Object(v.jsxs)("div",{className:N.a.card,children:[Object(v.jsx)("img",{alt:"avatar",className:N.a.avatar,width:"100px ",height:"100px",src:"https://ik.imagekit.io/s2fpg15d4rx/kisspng-computer-icons-portable-network-graphics-user-icon-my-b-tab-svg-png-icon-free-download-8-584-onl-5bfa37607f3959.2067798415431248325211_-Xj5AVLFlyoz.png"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:N.a.name,children:e.name}),Object(v.jsx)("p",{className:N.a.number,children:e.number}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"button",onClick:function(){return t=e.id,n(b(t));var t},className:N.a.button,children:"delete"})})]})]})}var S=n(87),F=n.n(S);function I(){var t=Object(c.c)(m.getVisibleContacts);return Object(v.jsx)("div",{children:Object(v.jsx)("ul",{className:F.a.contacts_list,children:t.length>0&&t.map((function(t){return Object(v.jsx)("li",{children:Object(v.jsx)(E,{item:t})})}))})})}var M,q,L=n(88),P=n.n(L);function z(){var t=Object(c.c)(m.getFilter),e=Object(c.b)(),n=Object(r.useCallback)((function(t){return e(o.a.filterContacts(t.target.value))}),[e]);return Object(v.jsxs)("label",{className:P.a.title,children:["Find contacts by name - ",t,Object(v.jsx)("input",{type:"text",value:t,onChange:n,className:P.a.input})]})}function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function Q(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},c=Object.keys(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R(t,e){var n=t.title,a=t.titleId,c=Q(t,["title","titleId"]);return r.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:e,"aria-labelledby":a},c),void 0===n?r.createElement("title",{id:a},"cancel"):n?r.createElement("title",{id:a},n):null,M||(M=r.createElement("path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"})),q||(q=r.createElement("path",{d:"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z"})))}var J=r.forwardRef(R),B=(n.p,n(49)),V=n.n(B);function D(){var t=Object(r.useState)(!1),e=Object(a.a)(t,2),n=e[0],o=e[1],i=Object(c.b)();Object(r.useEffect)((function(){i(u())}),[i]);var s=Object(r.useCallback)((function(){return o(!0)}),[]),l=Object(r.useCallback)((function(){o(!1)}),[]);return Object(v.jsxs)("div",{className:V.a.page_contacts,children:[Object(v.jsx)("h1",{children:"PhoneBook"}),Object(v.jsxs)("div",{className:V.a.list_filter,children:[Object(v.jsx)(z,{}),Object(v.jsx)("button",{type:"buttom",onClick:s,className:V.a.button,children:"Add to Contacts"})]}),n&&Object(v.jsxs)(w,{onClose:l,children:[Object(v.jsx)(_,{}),Object(v.jsx)("button",{type:"button",className:V.a.btn_close_modal,onClick:l,children:Object(v.jsx)(J,{fill:"inherit"})})]}),Object(v.jsx)(I,{})]})}}}]);
//# sourceMappingURL=contacts-page.610d9c4b.chunk.js.map
{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/contacts/contacts-actions.js","component/AppBar/UserMenu/UserMenu.module.css","redux/auth/auth-actions.js","component/Container/Container.module.css","App.module.css","component/AppBar/AppBar.module.css","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","component/routers.js","component/PrivateRoute.js","component/PublicRoute.js","component/AppBar/Navigation/Navigation.js","component/AppBar/AuthNav/AuthNav.js","component/AppBar/UserMenu/UserMenu.js","component/AppBar/AppBar.js","component/Container/Container.js","App.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","accountingData","dispatch","authActions","registerRequest","post","then","data","registerSuccess","catch","error","registerError","message","logIn","loginRequest","loginSuccess","logoutError","logOut","logoutRequest","logoutSuccess","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","getAuthenticated","state","isAuthorized","getUserName","user","name","getContactsRequest","createAction","getContactsSuccess","getContactsError","addContactsRequest","addContactsSuccess","addContactsError","deleteContactsRequest","deleteContactsSuccess","deleteContactsError","filterContacts","module","exports","loginError","items","createReducer","action","_","payload","filter","id","contactsReducer","combineReducers","initialUserState","email","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","whitelist","storage","rootReducer","contacts","persistReducer","authUserReducer","store","configureStore","reducer","devTools","process","persistor","persistStore","PrivateRoute","children","redirectTo","routeProps","isAuthenticated","useSelector","authSelectors","to","PublicRoute","isAutorization","restricted","Navigation","className","styles","list","item","exact","routes","nav","activeClassName","active_nav","AuthNav","uuidv4","UserMenu","useDispatch","onLogout","useCallback","authOperations","box","alt","width","height","src","title","button","onClick","icon","AppBar","Container","container","HomePage","lazy","ContactsPage","LoginPage","RegisterPage","App","useEffect","fallback","path","component","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.ca1bfe69.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport authActions from \"./auth-actions\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst register = (accountingData) => (dispatch) => {\r\n  dispatch(authActions.registerRequest());\r\n  axios\r\n    .post(\"/users/signup\", accountingData)\r\n    .then(({ data }) => {\r\n      token.set(data.token);\r\n      return dispatch(authActions.registerSuccess(data));\r\n    })\r\n    .catch((error) => dispatch(authActions.registerError(error.message)));\r\n};\r\n\r\nconst logIn = (accountingData) => (dispatch) => {\r\n  dispatch(authActions.loginRequest());\r\n  axios\r\n    .post(\"/users/login\", accountingData)\r\n    .then(({ data }) => {\r\n      token.set(data.token);\r\n      return dispatch(authActions.loginSuccess(data));\r\n    })\r\n    .catch((error) => dispatch(authActions.logoutError(error.message)));\r\n};\r\nconst logOut = () => (dispatch) => {\r\n  dispatch(authActions.logoutRequest());\r\n  axios\r\n    .post(\"/users/logout\")\r\n    .then(() => {\r\n      token.unset();\r\n      return dispatch(authActions.logoutSuccess());\r\n    })\r\n    .catch((error) => dispatch(authActions.logoutError(error.message)));\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  axios\r\n    .get(\"/users/current\")\r\n    .then(({ data }) => dispatch(authActions.getCurrentUserSuccess(data)))\r\n    .catch((error) => dispatch(authActions.getCurrentUserError(error.message)));\r\n};\r\n\r\nexport default {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n};\r\n","const getAuthenticated = (state) => state.auth.isAuthorized;\r\n\r\nconst getUserName = (state) => state.auth.user.name;\r\nexport default {\r\n  getAuthenticated,\r\n  getUserName,\r\n};\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst getContactsRequest = createAction(\"contacts/getContactsRequest\");\r\nconst getContactsSuccess = createAction(\"contacts/getContactsSuccess\");\r\nconst getContactsError = createAction(\"contacts/getContactsError\");\r\n\r\nconst addContactsRequest = createAction(\"contacts/addContactsRequest\");\r\nconst addContactsSuccess = createAction(\"contacts/addContactsSuccess\");\r\nconst addContactsError = createAction(\"contacts/addContactsError\");\r\n\r\nconst deleteContactsRequest = createAction(\"contacts/deleteContactsRequest\");\r\nconst deleteContactsSuccess = createAction(\"contacts/deleteContactsSuccess\");\r\nconst deleteContactsError = createAction(\"contacts/deleteContactsError\");\r\n\r\nconst filterContacts = createAction(\"contacts/Filter\");\r\n\r\nexport default {\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  addContactsRequest,\r\n  addContactsSuccess,\r\n  addContactsError,\r\n  deleteContactsRequest,\r\n  deleteContactsSuccess,\r\n  deleteContactsError,\r\n  filterContacts,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"UserMenu_button__35oKs\",\"icon\":\"UserMenu_icon__rrw06\",\"box\":\"UserMenu_box__2knHT\",\"title\":\"UserMenu_title__gBHwt\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst registerRequest = createAction(\"auth/registerRequest\");\r\nconst registerSuccess = createAction(\"auth/registerSuccess\");\r\nconst registerError = createAction(\"auth/registerError\");\r\n\r\nconst loginRequest = createAction(\"auth/loginRequest\");\r\nconst loginSuccess = createAction(\"auth/loginSuccess\");\r\nconst loginError = createAction(\"auth/loginError\");\r\n\r\nconst logoutRequest = createAction(\"auth/logoutRequest\");\r\nconst logoutSuccess = createAction(\"auth/logoutSuccess\");\r\nconst logoutError = createAction(\"auth/logoutError\");\r\n\r\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\r\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\r\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__21OhA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page_register\":\"App_page_register__2Ikd1\",\"page_logins\":\"App_page_logins__1Dh4S\",\"page_home\":\"App_page_home__4B3lV\",\"page_contacts\":\"App_page_contacts__3AFTj\",\"box\":\"App_box__1nbaA\",\"btn_close_modal\":\"App_btn_close_modal__corlH\",\"button\":\"App_button__3F1L1\",\"list_filter\":\"App_list_filter__2f-fl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"AppBar_list__2jmJU\",\"item\":\"AppBar_item__3ssRO\",\"nav\":\"AppBar_nav__2ZDUH\",\"active_nav\":\"AppBar_active_nav__XN-WF\"};","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport action from \"./contacts-actions\";\r\n\r\nconst items = createReducer([], {\r\n  [action.getContactsSuccess]: (_, { payload }) => payload,\r\n  [action.addContactsSuccess]: (state, { payload }) => [payload, ...state],\r\n  [action.deleteContactsSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [action.filterContacts]: (_, { payload }) => payload,\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items,\r\n  filter,\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\r\nimport action from \"./auth-actions\";\r\n\r\n// user1\r\n// userTest1@mail.com\r\n//   user1mail\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [action.registerSuccess]: (_, { payload }) => payload.user,\r\n  [action.loginSuccess]: (_, { payload }) => payload.user,\r\n  [action.logoutSuccess]: () => initialUserState,\r\n  [action.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [action.registerSuccess]: (_, { payload }) => payload.token,\r\n  [action.loginSuccess]: (_, { payload }) => payload.token,\r\n  [action.logoutSuccess]: () => null,\r\n});\r\nconst error = createReducer(null, {\r\n  [action.registerError]: (_, { payload }) => payload,\r\n  [action.loginError]: (_, { payload }) => payload,\r\n  [action.logoutError]: (_, { payload }) => payload,\r\n  [action.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAuthorized = createReducer(false, {\r\n  [action.registerSuccess]: () => true,\r\n  [action.loginSuccess]: () => true,\r\n  [action.getCurrentUserSuccess]: () => true,\r\n  [action.logoutSuccess]: () => false,\r\n  [action.registerError]: () => false,\r\n  [action.loginError]: () => false,\r\n  [action.getCurrentUserError]: () => false,\r\n});\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isAuthorized,\r\n});\r\n","import contactsReducer from \"./contacts/contacts-reducer\";\r\nimport authUserReducer from \"./auth/auth-reducer\";\r\nimport {\r\n  combineReducers,\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from \"@reduxjs/toolkit\";\r\n// import logger from 'redux-logger';\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst persistConfig = {\r\n  key: \"token\",\r\n  whitelist: [\"token\"],\r\n  storage,\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  auth: persistReducer(persistConfig, authUserReducer),\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","export default {\r\n  home: \"/\",\r\n  contacts: \"/contacts\",\r\n  logins: \"/login\",\r\n  register: \"/register\",\r\n};\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nexport default function PrivateRoute({ children, redirectTo, ...routeProps }) {\r\n  const isAuthenticated = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAuthenticated ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authSelectors } from \"../redux/auth\";\r\n\r\nexport default function PublicRoute({ children, redirectTo, ...routeProps }) {\r\n  const isAutorization = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAutorization && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { authSelectors } from \"../../../redux/auth\";\r\nimport routes from \"../../routers\";\r\nimport styles from \"../AppBar.module.css\";\r\n\r\nexport default function Navigation() {\r\n  const isAuthenticated = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <nav>\r\n      <ul className={styles.list}>\r\n        <li className={styles.item}>\r\n          <NavLink\r\n            exact\r\n            to={routes.home}\r\n            className={styles.nav}\r\n            activeClassName={styles.active_nav}\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        {isAuthenticated && (\r\n          <li className={styles.item}>\r\n            <NavLink\r\n              exact\r\n              to={routes.contacts}\r\n              className={styles.nav}\r\n              activeClassName={styles.active_nav}\r\n            >\r\n              Contacts\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport routes from \"../../routers\";\r\nimport styles from \"../AppBar.module.css\";\r\n\r\nconst AuthNav = () => {\r\n  return (\r\n    <ul className={styles.list}>\r\n      <li className={styles.item} key={uuidv4()}>\r\n        <NavLink\r\n          to={routes.logins}\r\n          className={styles.nav}\r\n          activeClassName={styles.active_nav}\r\n        >\r\n          Log in\r\n        </NavLink>\r\n      </li>\r\n      <li className={styles.item} key={uuidv4()}>\r\n        <NavLink\r\n          to={routes.register}\r\n          className={styles.nav}\r\n          activeClassName={styles.active_nav}\r\n        >\r\n          Sing up\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import React, { useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { authOperations, authSelectors } from \"../../../redux/auth\";\r\nimport styles from \"./UserMenu.module.css\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const onLogout = useCallback(() => dispatch(authOperations.logOut()), [\r\n    dispatch,\r\n  ]);\r\n  const name = useSelector(authSelectors.getUserName);\r\n  return (\r\n    <div className={styles.box}>\r\n      <img\r\n        alt=\"avatar\"\r\n        width=\"40px\"\r\n        height=\"auto\"\r\n        src=\"https://ik.imagekit.io/s2fpg15d4rx/kisspng-computer-icons-portable-network-graphics-user-icon-my-b-tab-svg-png-icon-free-download-8-584-onl-5bfa37607f3959.2067798415431248325211_-Xj5AVLFlyoz.png\"\r\n      />\r\n      <p className={styles.title}>Wellcome {name} </p>\r\n      <button className={styles.button} onClick={onLogout}>\r\n        Log off\r\n        <img\r\n          alt=\"logout\"\r\n          className={styles.icon}\r\n          src=\"https://ik.imagekit.io/s2fpg15d4rx/imgbin_web-hosting-icon-logout-icon-arrow-icon-png_8SQmsSuCZ.png\"\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nimport Navigation from \"./Navigation\";\r\nimport AuthNav from \"./AuthNav\";\r\nimport UserMenu from \"./UserMenu\";\r\n\r\nimport \"./AppBar.module.css\";\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector(authSelectors.getAuthenticated);\r\n  return (\r\n    <header>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import React, { lazy, Suspense, useEffect } from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n// ops routes\r\nimport routes from \"./component/routers\";\r\nimport PrivateRoute from \"./component/PrivateRoute\";\r\nimport PublicRoute from \"./component/PublicRoute\";\r\nimport { authOperations } from \"./redux/auth\";\r\n// компоненты\r\nimport AppBar from \"./component/AppBar\";\r\nimport Container from \"./component/Container\";\r\n\r\n// стили\r\n\r\nimport \"./App.module.css\";\r\n\r\nconst HomePage = lazy(() =>\r\n  import(\"./component/views/HomeViews\" /* webpackChunkName: \"home-page\" */)\r\n);\r\nconst ContactsPage = lazy(() =>\r\n  import(\r\n    \"./component/views/ContactsViews\" /* webpackChunkName: \"contacts-page\" */\r\n  )\r\n);\r\nconst LoginPage = lazy(() =>\r\n  import(\"./component/views/LoginViews\" /* webpackChunkName: \"login-page\" */)\r\n);\r\nconst RegisterPage = lazy(() =>\r\n  import(\r\n    \"./component/views/RegisterViews\" /* webpackChunkName: \"register-page\" */\r\n  )\r\n);\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.getCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <AppBar />\r\n      <Container>\r\n        <Suspense fallback={<h1>Гружу, аж гай шумить) .....</h1>}>\r\n          <Switch>\r\n            <Route path={routes.home} exact component={HomePage} />\r\n            <PrivateRoute\r\n              path={routes.contacts}\r\n              exact\r\n              redirectTo={routes.logins}\r\n            >\r\n              <ContactsPage />\r\n            </PrivateRoute>\r\n            <PublicRoute\r\n              path={routes.logins}\r\n              redirectTo={routes.contacts}\r\n              restricted\r\n            >\r\n              <LoginPage />\r\n            </PublicRoute>\r\n\r\n            <PublicRoute\r\n              path={routes.register}\r\n              redirectTo={routes.contacts}\r\n              restricted\r\n            >\r\n              <RegisterPage />\r\n            </PublicRoute>\r\n            <Redirect to={routes.home} />\r\n          </Switch>\r\n        </Suspense>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate\n        loading={<h1>Загружаю.......</h1>}\n        persistor={store.persistor}\n      >\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}